ccpp: True
quilting: &quilting True
grid_gen_method: JPgrid
grid_name: GSD_HRRR25km
print_esmf: False
nhours_fcst: 36
restart_interval: 0
phys_pkg: FV3_GSD_v0

machine: hera

# Variables
res: 3343
tile_rgnl:

nh4:
nh3:


# Paths
paths:
  workdir: 
  ushdir:
  input:
  ccpp_phys_suite:
  fv3_exec:
  grid: '/Users/christina.holt/Work/proto-1/fv3_grids.yml
  machine: /Users/christina.holt/Work/proto-1/machines.yml
  diag_tmpl: '/Users/christina.holt/Work/proto-1/templates/fv3_diag_table.{n.phys_pkg}'
  base_nml: '/Users/christina.holt/Work/proto-1/templates/input.nml.FV3'

field_table:
input.nml:
model_config:
  # List of items to include in the model_config. Possible items can be a string
  # referencing a method in the Forecast class, or a key: value pair. If the
  # value of the key: value pair is one of (grid, config, machine), then the
  # resulting value in the model_config file will be the value of the key set in
  # those configuration files.
  - pe_member01
  - dt_atmos: grid
  - start_times
  - nhours_fcst: config
  - ncores_per_node: machine
  - quilting
  - print_esmf: config
  - total_member: 1
  - RUN_CONTINUE: '.false.'
  - ENS_SPS: '.false.'
  - cpl: '.false.'
  - calendar: 'julian'
  - memuse_verbose: '.false.'
  - atmos_nthreads: 2
  - use_hyper_thread: '.false.'
  - debug_affinity: '.true.'
  - restart_interval: config
  - output_1st_tstep_rst: '.false.'

# !load_from checks value of first item, then grabs the value/section
#     from second item.
#     To add the first item/value to the list, a separate call to load_from should be made.
# !compute_pe_member sets the number of MPI tasks for the forecast.
# !start_times loads the list items as individual dict entries prepended with
#     start_
#


nems_config:

cycledep:
  link: # Format: [source, [target]] - If no target supplied, file keeps its source name]
    input:
      - ['gfs_data.tile{n.tile_rgnl}.halo${n.nh0}.nc', gfs_data.nc]
      - ['sfc_data.tile{n.tile_rgnl}.halo${n.nh0}.nc', sfc_data.nc]

static:
  copy: # Format: [source, [target]] - If no target supplied, file keeps its source name
    fv3_exec:
      - [fv3_gfs.x]

  link: # Format: [source, [target]] - If no target supplied, file keeps its source name]
    fixsar:
      - ['C{n.res}_mosaic.nc', grid_spec.nc]
      - ['C{n.res}_grid.tile{n.tile_rgnl}.halo{n.nh3}', 'C{n.cres}_grid.tile{n.tile_rgnl}.nc']
      - ['C{n.res}_grid.tile{n.tile_rgnl}.halo{n.nh4}', 'C{n.cres}_grid.tile{n.tile_rgnl}.halo{n.nh4}.nc']
      - ['C{n.res}_oro_data.tile{n.tile_rgnl}.halo{n.nh0}', oro_data.nc]
      - ['C{n.res}_oro_data.tile{n.tile_rgnl}.halo{n.nh4}', 'oro_data.tile{n.tile_rgnl}.halo{n.nh4}.nc']
    fixam:
      - [global_climaeropac_global.txt]
      - [global_h2o_pltc.f77]
      - [global_zorclim.1x1.grb]
      - [global_sfc_emissivity_idx.txt]
      - [global_solarconstant_noaa_an.txt]
      - [fix_co2_proj/global_co2historicaldata_2010.txt]
      - [fix_co2_proj/global_co2historicaldata_2011.txt]
      - [fix_co2_proj/global_co2historicaldata_2012.txt]
      - [fix_co2_proj/global_co2historicaldata_2013.txt]
      - [fix_co2_proj/global_co2historicaldata_2014.txt]
      - [fix_co2_proj/global_co2historicaldata_2015.txt]
      - [fix_co2_proj/global_co2historicaldata_2016.txt]
      - [fix_co2_proj/global_co2historicaldata_2017.txt]
      - [fix_co2_proj/global_co2historicaldata_2018.txt]
      - [global_co2historicaldata_glob.txt]
      - [co2monthlycyc.txt]
      - !namsfcfiles
    ccpp_phys_suite:
      - ['suite_{n.ccpp_phys_suite}.xml']









